require 'csv'

class DashboardController < SecuredController
    before_action :check_if_new_user

  def show
    @user = session[:userinfo]
    @session = session
  end
  
  def data
    data = Hash.new 
    data["fitbit|4DNVLF"] =
        {
            "1430481600" => 1472,
            "1430568000" => 2911,
            "1430654400" => 807,
            "1430740800" => 1594,
            "1430827200" => 2525,
            "1430913600" => 2473,
            "1431000000" => 1725,
            "1431086400" => 2925,
            "1431172800" => 1754,
            "1431259200" => 32,
            "1431345600" => 2217,
            "1431432000" => 2036,
            "1431518400" => 852,
            "1431604800" => 653,
            "1431691200" => 1783,
            "1431777600" => 276,
            "1431864000" => 1295,
            "1431950400" => 1595,
            "1432036800" => 839,
            "1432123200" => 2355,
            "1432209600" => 1059,
            "1432296000" => 1714,
            "1432382400" => 2094,
            "1432468800" => 1318,
            "1432555200" => 2868,
            "1432641600" => 494,
            "1432728000" => 1029,
            "1432814400" => 2711,
            "1432900800" => 2358,
            "1432987200" => 1048,
            "1433073600" => 2846,
            "1433160000" => 1167,
            "1433246400" => 2186,
            "1433332800" => 2331,
            "1433419200" => 603,
            "1433505600" => 2125,
            "1433592000" => 1874,
            "1433678400" => 528,
            "1433764800" => 165,
            "1433851200" => 133,
            "1433937600" => 2995,
            "1434024000" => 1188,
            "1434110400" => 101,
            "1434196800" => 346,
            "1434283200" => 268,
            "1434369600" => 2063,
            "1434456000" => 768,
            "1434542400" => 2283,
            "1434628800" => 1131,
            "1434715200" => 926,
            "1434801600" => 2533,
            "1434888000" => 2738,
            "1434974400" => 2494,
            "1435060800" => 705,
            "1435147200" => 2345,
            "1435233600" => 1882,
            "1435320000" => 581,
            "1435406400" => 2261,
            "1435492800" => 795,
            "1435579200" => 1110,
            "1435665600" => 2091,
            "1435752000" => 2927,
            "1435838400" => 246,
            "1435924800" => 25,
            "1436011200" => 2288,
            "1436097600" => 2568,
            "1436184000" => 1709,
            "1436270400" => 150,
            "1436356800" => 1141,
            "1436443200" => 402,
            "1436529600" => 799,
            "1436616000" => 1481,
            "1436702400" => 226,
            "1436788800" => 2172,
            "1436875200" => 1380,
            "1436961600" => 884,
            "1437048000" => 1769,
            "1437134400" => 1414,
            "1437220800" => 1326,
            "1437307200" => 2556,
            "1437393600" => 1997,
            "1437480000" => 2590,
            "1437566400" => 1333,
            "1437652800" => 327,
            "1437739200" => 1840,
            "1437825600" => 740,
            "1437912000" => 2691,
            "1437998400" => 2513,
            "1438084800" => 1967,
            "1438171200" => 958,
            "1438257600" => 2616,
            "1438344000" => 1247,
            "1438430400" => 1230,
            "1438516800" => 620,
            "1438603200" => 945,
            "1438689600" => 2848,
            "1438776000" => 704,
            "1438862400" => 623,
            "1438948800" => 2818,
            "1439035200" => 2704,
            "1439121600" => 1802,
            "1439208000" => 1159,
            "1439294400" => 1401,
            "1439380800" => 1445,
            "1439467200" => 223,
            "1439553600" => 1638,
            "1439640000" => 713,
            "1439726400" => 2787,
            "1439812800" => 2990,
            "1439899200" => 2272,
            "1439985600" => 204,
            "1440072000" => 1437,
            "1440158400" => 1306,
            "1440244800" => 1627,
            "1440331200" => 1969,
            "1440417600" => 718,
            "1440504000" => 1610,
            "1440590400" => 36,
            "1440676800" => 2227,
            "1440763200" => 1282,
            "1440849600" => 2909,
            "1440936000" => 2260,
            "1441022400" => 2125,
            "1441108800" => 1233,
            "1441195200" => 2294,
            "1441281600" => 33,
            "1441368000" => 868,
            "1441454400" => 2369,
            "1441540800" => 1410,
            "1441627200" => 2319,
            "1441713600" => 1782,
            "1441800000" => 918,
            "1441886400" => 691,
            "1441972800" => 2065,
            "1442059200" => 2062,
            "1442145600" => 2186,
            "1442232000" => 221,
            "1442318400" => 1077,
            "1442404800" => 1716,
            "1442491200" => 2912,
            "1442577600" => 1297,
            "1442664000" => 1325,
            "1442750400" => 1599,
            "1442836800" => 1849,
            "1442923200" => 2014,
            "1443009600" => 482,
            "1443096000" => 1344,
            "1443182400" => 2146,
            "1443268800" => 587,
            "1443355200" => 895,
            "1443441600" => 2555,
            "1443528000" => 532,
            "1443614400" => 1584,
            "1443700800" => 1364,
            "1443787200" => 770,
            "1443873600" => 1035,
            "1443960000" => 1794,
            "1444046400" => 1165,
            "1444132800" => 1421,
            "1444219200" => 1089,
            "1444305600" => 1103,
            "1444392000" => 1658,
            "1444478400" => 1333,
            "1444564800" => 2296,
            "1444651200" => 2514,
            "1444737600" => 1536,
            "1444824000" => 1252,
            "1444910400" => 919,
            "1444996800" => 1274,
            "1445083200" => 2367,
            "1445169600" => 367,
            "1445256000" => 1300,
            "1445342400" => 1989,
            "1445428800" => 2510,
            "1445515200" => 2910,
            "1445601600" => 2855,
            "1445688000" => 665,
            "1445774400" => 738,
            "1445860800" => 634,
            "1445947200" => 1141,
            "1446033600" => 720,
            "1446120000" => 22,
            "1446206400" => 1220,
            "1446292800" => 629,
            "1446379200" => 203,
            "1446465600" => 1899,
            "1446552000" => 1602,
            "1446638400" => 2322,
            "1446724800" => 1807,
            "1446811200" => 617,
            "1446897600" => 1623,
            "1446984000" => 2209,
            "1447070400" => 1626,
            "1447156800" => 2924,
            "1447243200" => 551,
            "1447329600" => 742,
            "1447416000" => 126,
            "1447502400" => 2836,
            "1447588800" => 1642,
            "1447675200" => 2034,
            "1447761600" => 1373,
            "1447848000" => 59,
            "1447934400" => 2171,
            "1448020800" => 1390,
            "1448107200" => 254,
            "1448193600" => 1907,
            "1448280000" => 2244,
            "1448366400" => 2962,
            "1448452800" => 197,
            "1448539200" => 1592,
            "1448625600" => 132,
            "1448712000" => 1924,
            "1448798400" => 2769,
            "1448884800" => 600,
            "1448971200" => 906,
            "1449057600" => 454,
            "1449144000" => 1498,
            "1449230400" => 2598,
            "1449316800" => 2805,
            "1449403200" => 45,
            "1449489600" => 1310,
            "1449576000" => 853,
            "1449662400" => 2979,
            "1449748800" => 1309,
            "1449835200" => 2146,
            "1449921600" => 1534,
            "1450008000" => 2092,
            "1450094400" => 1334,
            "1450180800" => 538,
            "1450267200" => 2524,
            "1450353600" => 1662,
            "1450440000" => 2964,
            "1450526400" => 1299,
            "1450612800" => 1421,
            "1450699200" => 1063,
            "1450785600" => 1983,
            "1450872000" => 2878,
            "1450958400" => 369,
            "1451044800" => 664,
            "1451131200" => 1181,
            "1451217600" => 2486,
            "1451304000" => 2088,
            "1451390400" => 847,
            "1451476800" => 2564,
            "1451563200" => 2695,
            "1451649600" => 1115,
            "1451736000" => 1371,
            "1451822400" => 1648,
            "1451908800" => 2958,
            "1451995200" => 2715,
            "1452081600" => 980,
            "1452168000" => 1782,
            "1452254400" => 263,
            "1452340800" => 2214,
            "1452427200" => 113,
            "1452513600" => 2784,
            "1452600000" => 1076,
            "1452686400" => 1651,
            "1452772800" => 2153,
            "1452859200" => 855,
            "1452945600" => 696,
            "1453032000" => 653,
            "1453118400" => 2822,
            "1453204800" => 1806,
            "1453291200" => 2245,
            "1453377600" => 2232,
            "1453464000" => 1070,
            "1453550400" => 1956,
            "1453636800" => 2702,
            "1453723200" => 1911,
            "1453809600" => 2195,
            "1453896000" => 1838,
            "1453982400" => 1650,
            "1454068800" => 1091,
            "1454155200" => 849,
            "1454241600" => 2874,
            "1454328000" => 805,
            "1454414400" => 2925,
            "1454500800" => 1142,
            "1454587200" => 1607,
            "1454673600" => 817,
            "1454760000" => 2188,
            "1454846400" => 1183,
            "1454932800" => 2826,
            "1455019200" => 1435,
            "1455105600" => 1673,
            "1455192000" => 2140,
            "1455278400" => 1025,
            "1455364800" => 1752,
            "1455451200" => 1530,
            "1455537600" => 2201,
            "1455624000" => 2064,
            "1455710400" => 2995,
            "1455796800" => 2720,
            "1455883200" => 2775,
            "1455969600" => 2692,
            "1456056000" => 1173,
            "1456142400" => 2320,
            "1456228800" => 2722,
            "1456315200" => 2725,
            "1456401600" => 1820,
            "1456488000" => 844,
            "1456574400" => 2576,
            "1456660800" => 2124,
            "1456747200" => 2098,
            "1456833600" => 1024,
            "1456920000" => 1365,
            "1457006400" => 1066,
            "1457092800" => 2648,
            "1457179200" => 589,
            "1457265600" => 2951,
            "1457352000" => 2229,
            "1457438400" => 792,
            "1457524800" => 2560,
            "1457611200" => 708,
            "1457697600" => 1020,
            "1457784000" => 989,
            "1457870400" => 1351,
            "1457956800" => 799,
            "1458043200" => 1353,
            "1458129600" => 853,
            "1458216000" => 626,
            "1458302400" => 438,
            "1458388800" => 1724,
            "1458475200" => 1545,
            "1458561600" => 1362,
            "1458648000" => 1131,
            "1458734400" => 910,
            "1458820800" => 1926,
            "1458907200" => 860,
            "1458993600" => 2208,
            "1459080000" => 2460,
            "1459166400" => 2546,
            "1459252800" => 2664,
            "1459339200" => 2766,
            "1459425600" => 1408,
            "1459512000" => 1326,
            "1459598400" => 340,
            "1459684800" => 1629,
            "1459771200" => 152,
            "1459857600" => 2653
        }

    respond_to do |format|
      format.json {
        render :json => data[session[:userinfo][:uid]]
        }
    end
  end

  private 

  def check_if_new_user

  end
end

# ,
#           "2016-01-25T18:25:43.511Z" => 10, 
#           "2016-01-26T18:25:43.511Z" => 0, 
#           "2016-01-27T18:25:43.511Z" => 3
